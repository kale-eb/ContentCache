(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{4753:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>sa});var a=t(5155),r=t(2115),l=t(7340),i=t(9869),n=t(1497),o=t(2713),c=t(381),d=t(9803),u=t(9708),h=t(2085),m=t(2432),x=t(2596),p=t(9688);function f(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,p.QP)((0,x.$)(s))}let g=(0,h.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),b=r.forwardRef((e,s)=>{let{className:t,variant:r,size:l,asChild:i=!1,...n}=e,o=i?u.DX:"button";return(0,a.jsx)(o,{className:f(g({variant:r,size:l,className:t})),ref:s,...n})});b.displayName="Button";let v=r.forwardRef((e,s)=>{let{className:t,type:r,...l}=e;return(0,a.jsx)("input",{type:r,className:f("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:s,...l})});v.displayName="Input";var j=t(7489);let y=r.forwardRef((e,s)=>{let{className:t,orientation:r="horizontal",decorative:l=!0,...i}=e;return(0,a.jsx)(j.b,{ref:s,decorative:l,orientation:r,className:f("shrink-0 bg-border","horizontal"===r?"h-[1px] w-full":"h-full w-[1px]",t),...i})});y.displayName=j.b.displayName;var w=t(5452),N=t(4416);let S=w.bL;w.l9,w.bm;let A=w.ZL,P=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(w.hJ,{className:f("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...r,ref:s})});P.displayName=w.hJ.displayName;let k=(0,h.F)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),I=r.forwardRef((e,s)=>{let{side:t="right",className:r,children:l,...i}=e;return(0,a.jsxs)(A,{children:[(0,a.jsx)(P,{}),(0,a.jsxs)(w.UC,{ref:s,className:f(k({side:t}),r),...i,children:[l,(0,a.jsxs)(w.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[(0,a.jsx)(N.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});function _(e){let{className:s,...t}=e;return(0,a.jsx)("div",{className:f("animate-pulse rounded-md bg-muted",s),...t})}I.displayName=w.UC.displayName,r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(w.hE,{ref:s,className:f("text-lg font-semibold text-foreground",t),...r})}).displayName=w.hE.displayName,r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(w.VY,{ref:s,className:f("text-sm text-muted-foreground",t),...r})}).displayName=w.VY.displayName;var C=t(9613);let R=C.Kq,E=C.bL,F=C.l9,T=r.forwardRef((e,s)=>{let{className:t,sideOffset:r=4,...l}=e;return(0,a.jsx)(C.UC,{ref:s,sideOffset:r,className:f("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...l})});T.displayName=C.UC.displayName;let z=r.createContext(null);function D(){let e=r.useContext(z);if(!e)throw Error("useSidebar must be used within a SidebarProvider.");return e}let O=r.forwardRef((e,s)=>{let{defaultOpen:t=!0,open:l,onOpenChange:i,className:n,style:o,children:c,...d}=e,u=function(){let[e,s]=r.useState(void 0);return r.useEffect(()=>{let e=window.matchMedia("(max-width: ".concat(767,"px)")),t=()=>{s(window.innerWidth<768)};return e.addEventListener("change",t),s(window.innerWidth<768),()=>e.removeEventListener("change",t)},[]),!!e}(),[h,m]=r.useState(!1),[x,p]=r.useState(t),g=null!=l?l:x,b=r.useCallback(e=>{let s="function"==typeof e?e(g):e;i?i(s):p(s),document.cookie="".concat("sidebar:state","=").concat(s,"; path=/; max-age=").concat(604800)},[i,g]),v=r.useCallback(()=>u?m(e=>!e):b(e=>!e),[u,b,m]);r.useEffect(()=>{let e=e=>{"b"===e.key&&(e.metaKey||e.ctrlKey)&&(e.preventDefault(),v())};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[v]);let j=g?"expanded":"collapsed",y=r.useMemo(()=>({state:j,open:g,setOpen:b,isMobile:u,openMobile:h,setOpenMobile:m,toggleSidebar:v}),[j,g,b,u,h,m,v]);return(0,a.jsx)(z.Provider,{value:y,children:(0,a.jsx)(R,{delayDuration:0,children:(0,a.jsx)("div",{style:{"--sidebar-width":"16rem","--sidebar-width-icon":"3rem",...o},className:f("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",n),ref:s,...d,children:c})})})});O.displayName="SidebarProvider";let L=r.forwardRef((e,s)=>{let{side:t="left",variant:r="sidebar",collapsible:l="offcanvas",className:i,children:n,...o}=e,{isMobile:c,state:d,openMobile:u,setOpenMobile:h}=D();return"none"===l?(0,a.jsx)("div",{className:f("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",i),ref:s,...o,children:n}):c?(0,a.jsx)(S,{open:u,onOpenChange:h,...o,children:(0,a.jsx)(I,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":"18rem"},side:t,children:(0,a.jsx)("div",{className:"flex h-full w-full flex-col",children:n})})}):(0,a.jsxs)("div",{ref:s,className:"group peer hidden md:block text-sidebar-foreground","data-state":d,"data-collapsible":"collapsed"===d?l:"","data-variant":r,"data-side":t,children:[(0,a.jsx)("div",{className:f("duration-200 relative h-svh w-[--sidebar-width] bg-transparent transition-[width] ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180","floating"===r||"inset"===r?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),(0,a.jsx)("div",{className:f("duration-200 fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] ease-linear md:flex","left"===t?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]","floating"===r||"inset"===r?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",i),...o,children:(0,a.jsx)("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:n})})]})});L.displayName="Sidebar",r.forwardRef((e,s)=>{let{className:t,onClick:r,...l}=e,{toggleSidebar:i}=D();return(0,a.jsxs)(b,{ref:s,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:f("h-7 w-7",t),onClick:e=>{null==r||r(e),i()},...l,children:[(0,a.jsx)(m.A,{}),(0,a.jsx)("span",{className:"sr-only",children:"Toggle Sidebar"})]})}).displayName="SidebarTrigger";let M=r.forwardRef((e,s)=>{let{className:t,...r}=e,{toggleSidebar:l}=D();return(0,a.jsx)("button",{ref:s,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:l,title:"Toggle Sidebar",className:f("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",t),...r})});M.displayName="SidebarRail";let U=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("main",{ref:s,className:f("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",t),...r})});U.displayName="SidebarInset",r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(v,{ref:s,"data-sidebar":"input",className:f("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",t),...r})}).displayName="SidebarInput";let V=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,"data-sidebar":"header",className:f("flex flex-col gap-2 p-2",t),...r})});V.displayName="SidebarHeader";let q=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,"data-sidebar":"footer",className:f("flex flex-col gap-2 p-2",t),...r})});q.displayName="SidebarFooter",r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(y,{ref:s,"data-sidebar":"separator",className:f("mx-2 w-auto bg-sidebar-border",t),...r})}).displayName="SidebarSeparator";let B=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,"data-sidebar":"content",className:f("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",t),...r})});B.displayName="SidebarContent";let J=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,"data-sidebar":"group",className:f("relative flex w-full min-w-0 flex-col p-2",t),...r})});J.displayName="SidebarGroup",r.forwardRef((e,s)=>{let{className:t,asChild:r=!1,...l}=e,i=r?u.DX:"div";return(0,a.jsx)(i,{ref:s,"data-sidebar":"group-label",className:f("duration-200 flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",t),...l})}).displayName="SidebarGroupLabel",r.forwardRef((e,s)=>{let{className:t,asChild:r=!1,...l}=e,i=r?u.DX:"button";return(0,a.jsx)(i,{ref:s,"data-sidebar":"group-action",className:f("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",t),...l})}).displayName="SidebarGroupAction";let G=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,"data-sidebar":"group-content",className:f("w-full text-sm",t),...r})});G.displayName="SidebarGroupContent";let W=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("ul",{ref:s,"data-sidebar":"menu",className:f("flex w-full min-w-0 flex-col gap-1",t),...r})});W.displayName="SidebarMenu";let K=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("li",{ref:s,"data-sidebar":"menu-item",className:f("group/menu-item relative",t),...r})});K.displayName="SidebarMenuItem";let X=(0,h.F)("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),H=r.forwardRef((e,s)=>{let{asChild:t=!1,isActive:r=!1,variant:l="default",size:i="default",tooltip:n,className:o,...c}=e,d=t?u.DX:"button",{isMobile:h,state:m}=D(),x=(0,a.jsx)(d,{ref:s,"data-sidebar":"menu-button","data-size":i,"data-active":r,className:f(X({variant:l,size:i}),o),...c});return n?("string"==typeof n&&(n={children:n}),(0,a.jsxs)(E,{children:[(0,a.jsx)(F,{asChild:!0,children:x}),(0,a.jsx)(T,{side:"right",align:"center",hidden:"collapsed"!==m||h,...n})]})):x});H.displayName="SidebarMenuButton",r.forwardRef((e,s)=>{let{className:t,asChild:r=!1,showOnHover:l=!1,...i}=e,n=r?u.DX:"button";return(0,a.jsx)(n,{ref:s,"data-sidebar":"menu-action",className:f("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",l&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",t),...i})}).displayName="SidebarMenuAction",r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,"data-sidebar":"menu-badge",className:f("absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground select-none pointer-events-none","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",t),...r})}).displayName="SidebarMenuBadge",r.forwardRef((e,s)=>{let{className:t,showIcon:l=!1,...i}=e,n=r.useMemo(()=>"".concat(Math.floor(40*Math.random())+50,"%"),[]);return(0,a.jsxs)("div",{ref:s,"data-sidebar":"menu-skeleton",className:f("rounded-md h-8 flex gap-2 px-2 items-center",t),...i,children:[l&&(0,a.jsx)(_,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),(0,a.jsx)(_,{className:"h-4 flex-1 max-w-[--skeleton-width]","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":n}})]})}).displayName="SidebarMenuSkeleton",r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("ul",{ref:s,"data-sidebar":"menu-sub",className:f("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",t),...r})}).displayName="SidebarMenuSub",r.forwardRef((e,s)=>{let{...t}=e;return(0,a.jsx)("li",{ref:s,...t})}).displayName="SidebarMenuSubItem",r.forwardRef((e,s)=>{let{asChild:t=!1,size:r="md",isActive:l,className:i,...n}=e,o=t?u.DX:"a";return(0,a.jsx)(o,{ref:s,"data-sidebar":"menu-sub-button","data-size":r,"data-active":l,className:f("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground","sm"===r&&"text-xs","md"===r&&"text-sm","group-data-[collapsible=icon]:hidden",i),...n})}).displayName="SidebarMenuSubButton";var Q=t(5977);let Y=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(Q.bL,{ref:s,className:f("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...r})});Y.displayName=Q.bL.displayName;let Z=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(Q._V,{ref:s,className:f("aspect-square h-full w-full",t),...r})});Z.displayName=Q._V.displayName;let $=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(Q.H4,{ref:s,className:f("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...r})});$.displayName=Q.H4.displayName;let ee=(0,h.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function es(e){let{className:s,variant:t,...r}=e;return(0,a.jsx)("div",{className:f(ee({variant:t}),s),...r})}let et=[{id:"dashboard",title:"Dashboard",icon:l.A},{id:"upload",title:"Upload",icon:i.A},{id:"ai-chat",title:"AI Chat",icon:n.A},{id:"analytics",title:"Analytics",icon:o.A},{id:"settings",title:"Settings",icon:c.A}];function ea(e){let{activeTab:s,onTabChange:t,...r}=e;return(0,a.jsxs)(L,{variant:"inset",...r,className:"border-r border-gray-200 bg-white",children:[(0,a.jsx)(V,{className:"border-b border-gray-100 p-6",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-600 to-blue-700 rounded-xl flex items-center justify-center shadow-sm",children:(0,a.jsx)(d.A,{className:"w-6 h-6 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"font-bold text-gray-900 text-lg",children:"Silk.ai"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"AI-Powered Desktop"})]})]})}),(0,a.jsx)(B,{className:"px-4 py-6",children:(0,a.jsx)(J,{children:(0,a.jsx)(G,{children:(0,a.jsx)(W,{className:"space-y-2",children:et.map(e=>(0,a.jsx)(K,{children:(0,a.jsxs)(H,{onClick:()=>t(e.id),isActive:s===e.id,className:"\n                      w-full justify-start px-4 py-3 rounded-xl font-medium transition-all duration-200\n                      ".concat(s===e.id?"bg-blue-50 text-blue-700 border-r-4 border-blue-600 shadow-sm":"text-gray-600 hover:bg-gray-50 hover:text-gray-900","\n                    "),children:[(0,a.jsx)(e.icon,{className:"w-5 h-5 mr-3"}),(0,a.jsx)("span",{className:"text-base",children:e.title}),"ai-chat"===e.id&&(0,a.jsx)(es,{className:"ml-auto bg-green-100 text-green-700 text-xs",children:"New"})]})},e.id))})})})}),(0,a.jsx)(q,{className:"border-t border-gray-100 p-6",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)(Y,{className:"w-10 h-10",children:[(0,a.jsx)(Z,{src:"/placeholder.svg?height=40&width=40"}),(0,a.jsx)($,{className:"bg-blue-100 text-blue-700 font-semibold",children:"JD"})]}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-sm font-semibold text-gray-900 truncate",children:"John Doe"}),(0,a.jsx)("p",{className:"text-xs text-gray-500 truncate",children:"Local User"})]})]})}),(0,a.jsx)(M,{})]})}var er=t(3786),el=t(4395),ei=t(7863),en=t(6474),eo=t(7434),ec=t(7924),ed=t(1482),eu=t(9074),eh=t(4516),em=t(4653),ex=t(5968);let ep=0,ef=e=>setTimeout(()=>{ey({type:"REMOVE_TOAST",toastId:e})},3e3),eg=new Map,eb=(e,s)=>{switch(s.type){case"ADD_TOAST":return{...e,toasts:[s.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===s.toast.id?{...e,...s.toast}:e)};case"DISMISS_TOAST":{let{toast:t}=s;return t?eg.set(t.id,ef(t.id)):e.toasts.forEach(e=>{eg.set(e.id,ef(e.id))}),{...e,toasts:e.toasts.map(e=>e.id===(null==t?void 0:t.id)||void 0===t?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===s.toast)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==s.toast.id)}}},ev=[],ej={toasts:[]};function ey(e){ej=eb(ej,e),ev.forEach(e=>{e(ej)})}function ew(){let[e,s]=(0,r.useState)(ej.toasts);return r.useEffect(()=>(ev.push(s),()=>{let e=ev.indexOf(s);e>-1&&ev.splice(e,1)}),[e]),{toast:e=>{let s=(ep=(ep+1)%Number.MAX_SAFE_INTEGER).toString(),t={...e,id:s,open:!0};ey({type:"ADD_TOAST",toast:t}),setTimeout(()=>{ey({type:"REMOVE_TOAST",toast:t})},3e3)},toasts:e}}let eN=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:f("rounded-lg border bg-card text-card-foreground shadow-sm",t),...r})});eN.displayName="Card";let eS=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:f("flex flex-col space-y-1.5 p-6",t),...r})});eS.displayName="CardHeader";let eA=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:f("text-2xl font-semibold leading-none tracking-tight",t),...r})});eA.displayName="CardTitle";let eP=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:f("text-sm text-muted-foreground",t),...r})});eP.displayName="CardDescription";let ek=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:f("p-6 pt-0",t),...r})});ek.displayName="CardContent",r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:f("flex items-center p-6 pt-0",t),...r})}).displayName="CardFooter";var eI=t(5239),e_=t(5196);let eC=eI.bL;eI.YJ;let eR=eI.WT,eE=r.forwardRef((e,s)=>{let{className:t,children:r,...l}=e;return(0,a.jsxs)(eI.l9,{ref:s,className:f("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...l,children:[r,(0,a.jsx)(eI.In,{asChild:!0,children:(0,a.jsx)(en.A,{className:"h-4 w-4 opacity-50"})})]})});eE.displayName=eI.l9.displayName;let eF=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(eI.PP,{ref:s,className:f("flex cursor-default items-center justify-center py-1",t),...r,children:(0,a.jsx)(ei.A,{className:"h-4 w-4"})})});eF.displayName=eI.PP.displayName;let eT=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(eI.wn,{ref:s,className:f("flex cursor-default items-center justify-center py-1",t),...r,children:(0,a.jsx)(en.A,{className:"h-4 w-4"})})});eT.displayName=eI.wn.displayName;let ez=r.forwardRef((e,s)=>{let{className:t,children:r,position:l="popper",...i}=e;return(0,a.jsx)(eI.ZL,{children:(0,a.jsxs)(eI.UC,{ref:s,className:f("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===l&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:l,...i,children:[(0,a.jsx)(eF,{}),(0,a.jsx)(eI.LM,{className:f("p-1","popper"===l&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,a.jsx)(eT,{})]})})});ez.displayName=eI.UC.displayName,r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(eI.JU,{ref:s,className:f("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...r})}).displayName=eI.JU.displayName;let eD=r.forwardRef((e,s)=>{let{className:t,children:r,...l}=e;return(0,a.jsxs)(eI.q7,{ref:s,className:f("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...l,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(eI.VF,{children:(0,a.jsx)(e_.A,{className:"h-4 w-4"})})}),(0,a.jsx)(eI.p4,{children:r})]})});function eO(e){let{result:s,isSelected:t,onSelect:l,onOpen:i,onReveal:n}=e,[o,c]=(0,r.useState)("/placeholder.svg"),[d,u]=(0,r.useState)(!0);return(0,r.useEffect)(()=>{window.electronAPI&&s.file_path&&window.electronAPI.generateThumbnail(s.file_path,s.content_type).then(e=>{c(e||"/placeholder.svg"),u(!1)}).catch(()=>{c("/placeholder.svg"),u(!1)})},[s.file_path,s.content_type]),(0,a.jsxs)("div",{className:"group relative bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow cursor-pointer border ".concat(t?"border-blue-500 ring-2 ring-blue-200":"border-gray-200 hover:border-gray-300"),onClick:l,children:[(0,a.jsxs)("div",{className:"aspect-video bg-gray-100 rounded-t-lg overflow-hidden relative",children:[d?(0,a.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,a.jsx)("div",{className:"w-5 h-5 border-2 border-gray-400 border-t-transparent rounded-full animate-spin"})}):(0,a.jsx)("img",{src:o,alt:s.filename||"Unknown file",className:"w-full h-full object-cover",onError:()=>c("/placeholder.svg")}),t&&(0,a.jsx)("div",{className:"absolute top-2 left-2 w-5 h-5 bg-blue-500 rounded-full flex items-center justify-center",children:(0,a.jsx)("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),(0,a.jsxs)("div",{className:"absolute top-2 right-2 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,a.jsx)("button",{onClick:e=>{e.stopPropagation(),i()},className:"w-6 h-6 bg-black bg-opacity-70 hover:bg-opacity-90 text-white rounded-full flex items-center justify-center",title:"Open file",children:(0,a.jsx)(er.A,{className:"w-3 h-3"})}),(0,a.jsx)("button",{onClick:e=>{e.stopPropagation(),n()},className:"w-6 h-6 bg-black bg-opacity-70 hover:bg-opacity-90 text-white rounded-full flex items-center justify-center",title:"Show in folder",children:(0,a.jsx)(el.A,{className:"w-3 h-3"})})]}),s.duration&&(0,a.jsx)("div",{className:"absolute bottom-2 right-2 bg-black bg-opacity-75 text-white text-xs px-1.5 py-0.5 rounded",children:s.duration})]}),(0,a.jsxs)("div",{className:"p-3",children:[(0,a.jsx)("h3",{className:"font-medium text-sm text-gray-900 truncate mb-1",children:s.filename||s.title||"Unknown file"}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[(0,a.jsx)("span",{className:"bg-gray-100 px-2 py-1 rounded text-xs",children:s.content_type}),(0,a.jsxs)("span",{children:[(100*s.similarity_score).toFixed(0),"%"]})]})]})]})}function eL(){let[e,s]=(0,r.useState)(""),[t,l]=(0,r.useState)("all"),[i,n]=(0,r.useState)("grid"),[o,c]=(0,r.useState)(!1),[u,h]=(0,r.useState)([]),[m,x]=(0,r.useState)(!1),[p,f]=(0,r.useState)(!1),[g,j]=(0,r.useState)(null),[y,w]=(0,r.useState)(!1),[N,S]=(0,r.useState)(""),[A,P]=(0,r.useState)(""),[k,I]=(0,r.useState)(!1),[_,C]=(0,r.useState)(new Set),[R,E]=(0,r.useState)({totalVideos:0,totalImages:0,totalText:0,totalAudio:0,storageUsed:"0 GB",searchServerStatus:!1}),{toast:F}=ew(),[T,z]=(0,r.useState)(0),D=async()=>{let e=Date.now();if(!(e-T<5e3)&&window.electronAPI)try{z(e),await window.electronAPI.getSystemStatus()}catch(e){console.error("Failed to fetch stats:",e)}};(0,r.useEffect)(()=>{if(window.electronAPI){let e=window.electronAPI.onFilesSelected(e=>{O(e)}),s=window.electronAPI.onFolderSelected(e=>{L(e)}),t=window.electronAPI.onPythonOutput(e=>{if(null!=e)try{var s,t,a,r,l,i;let n=JSON.parse(e);switch(n.type){case"progress":F({title:"".concat(n.stage.toUpperCase()),description:"".concat(n.progress.toFixed(1),"% - ").concat(n.message)});break;case"batch_progress":F({title:"Processing Files",description:"".concat(n.completed,"/").concat(n.total," files completed (").concat(n.progress.toFixed(1),"%)")});break;case"processing_complete":c(!1),F({title:"Processing Complete!",description:"Successfully processed ".concat(n.successful,"/").concat(n.total_processed," files")});break;case"search_results":if(g&&(clearTimeout(g),j(null)),x(!1),f(!0),w(!1),n.has_buckets&&n.buckets){let e=[];Object.entries(n.buckets).forEach(s=>{let[t,a]=s;Array.isArray(a)&&a.forEach(s=>{e.push({...s,server_bucket:t})})}),h(e),F({title:"Search Complete",description:"Found ".concat(n.total_found||e.length," results in ").concat(Object.keys(n.buckets).length,' categories for "').concat(n.query,'"')})}else h(n.results||[]),F({title:"Search Complete",description:"Found ".concat(n.total_found||(null===(s=n.results)||void 0===s?void 0:s.length)||0,' results for "').concat(n.query,'"')});break;case"search_error":g&&(clearTimeout(g),j(null)),x(!1),f(!0),w(!1),h([]),F({title:"Search Error",description:n.error,variant:"destructive"});break;case"system_status":if(n.search_server&&n.search_server.stats&&E(e=>({...e,totalVideos:n.search_server.stats.video||0,totalImages:n.search_server.stats.image||0,totalText:n.search_server.stats.text||0,totalAudio:n.search_server.stats.audio||0,searchServerStatus:n.search_server.running||!1})),null===(t=n.search_server)||void 0===t?void 0:t.running){let e=((null===(a=n.search_server.stats)||void 0===a?void 0:a.video)||0)+((null===(r=n.search_server.stats)||void 0===r?void 0:r.image)||0)+((null===(l=n.search_server.stats)||void 0===l?void 0:l.text)||0)+((null===(i=n.search_server.stats)||void 0===i?void 0:i.audio)||0);F({title:"Search Server Online",description:"Ready to search ".concat(e," items")})}else F({title:"Search Server Offline",description:"Start the search server to enable content search",variant:"destructive"});break;default:console.log("Python output:",n)}}catch(s){"string"==typeof e&&e.startsWith("OUTPUT:")&&F({title:"Processing Update",description:e.replace("OUTPUT:","").trim()})}});return D(),()=>{e(),s(),t()}}},[F]);let O=async e=>{c(!0),F({title:"Files Selected",description:"Processing ".concat(e.length," file(s)...")});try{await window.electronAPI.processFiles(e)}catch(e){F({title:"Error",description:"Failed to process files",variant:"destructive"})}finally{c(!1)}},L=async e=>{c(!0),F({title:"Folder Selected",description:"Processing folder: ".concat(e)});try{await window.electronAPI.processFiles([e])}catch(e){F({title:"Error",description:"Failed to process folder",variant:"destructive"})}finally{c(!1)}},[M,U]=(0,r.useState)(new Set),[V,q]=(0,r.useState)(null),B=e=>{if(e.some(e=>e.server_bucket)){let s={};return e.forEach(e=>{let t=e.server_bucket||"Other Results";s[t]||(s[t]=[]),s[t].push(e)}),s}let s=""!==N.trim(),t=""!==A.trim();if(!s&&!t)return{"All Results":e};let a={},r=(e,s)=>{if(!s)return!1;let t=(e=>{if(e.date_recorded)return new Date(e.date_recorded).toISOString().split("T")[0];if(e.processed_at)return new Date(e.processed_at).toISOString().split("T")[0];if(e.file_path){let s=e.file_path.match(/(\d{4})[_-]?(\d{2})[_-]?(\d{2})/);if(s){let[,e,t,a]=s;return"".concat(e,"-").concat(t.padStart(2,"0"),"-").concat(a.padStart(2,"0"))}}return null})(e);return t&&t.includes(s)},l=(e,s)=>!!s&&(e.location||e.gps_location||"").toLowerCase().includes(s.toLowerCase());return s&&t?(["\uD83D\uDCC5\uD83D\uDCCD Date & Location Match","\uD83D\uDCC5 Date Match Only","\uD83D\uDCCD Location Match Only","\uD83D\uDCC4 Other Results"].forEach(e=>{a[e]=[]}),e.forEach(e=>{let s=r(e,N),t=l(e,A);s&&t?a["\uD83D\uDCC5\uD83D\uDCCD Date & Location Match"].push(e):s?a["\uD83D\uDCC5 Date Match Only"].push(e):t?a["\uD83D\uDCCD Location Match Only"].push(e):a["\uD83D\uDCC4 Other Results"].push(e)})):s?(a["\uD83D\uDCC5 Date Match"]=[],a["\uD83D\uDCC4 Other Results"]=[],e.forEach(e=>{r(e,N)?a["\uD83D\uDCC5 Date Match"].push(e):a["\uD83D\uDCC4 Other Results"].push(e)})):t&&(a["\uD83D\uDCCD Location Match"]=[],a["\uD83D\uDCC4 Other Results"]=[],e.forEach(e=>{l(e,A)?a["\uD83D\uDCCD Location Match"].push(e):a["\uD83D\uDCC4 Other Results"].push(e)})),Object.keys(a).forEach(e=>{0===a[e].length?delete a[e]:a[e].sort((e,s)=>(s.similarity_score||0)-(e.similarity_score||0))}),a},J=e=>{let s=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#06b6d4","#84cc16"];return s[Math.abs(e.split("").reduce((e,s)=>(e=(e<<5)-e+s.charCodeAt(0))&e,0))%s.length]},G=(e,s)=>{s.ctrlKey||s.metaKey?U(s=>{let t=new Set(s);return t.has(e)?t.delete(e):t.add(e),t}):U(new Set([e]))},W=async e=>{var s;if(null===(s=window.electronAPI)||void 0===s?void 0:s.openFile)try{await window.electronAPI.openFile(e),F({title:"Opening File",description:"Opening ".concat(e.split("/").pop())})}catch(e){F({title:"Error",description:"Failed to open file",variant:"destructive"})}},K=async e=>{var s;if(null===(s=window.electronAPI)||void 0===s?void 0:s.revealFile)try{await window.electronAPI.revealFile(e),F({title:"Revealing File",description:"Showing ".concat(e.split("/").pop()," in finder")})}catch(e){F({title:"Error",description:"Failed to reveal file",variant:"destructive"})}},X=async()=>{if(!y&&e.trim()&&window.electronAPI){w(!0),x(!0),f(!1),h([]);let s=setTimeout(()=>{x(!1),f(!0),j(null),w(!1),F({title:"Search Timeout",description:"Search took too long. Please try again.",variant:"destructive"})},3e4);j(s);try{let s="all"===t?void 0:[t];await window.electronAPI.searchVideos(e,{content_types:s,date_filter:N.trim(),location_filter:A.trim()});let a=[e,"all"!==t?"(".concat(t,")"):"",N.trim()?"Date: ".concat(N):"",A.trim()?"Location: ".concat(A):""].filter(Boolean).join(" ");F({title:"Search Started",description:"Searching for: ".concat(a)})}catch(e){clearTimeout(s),j(null),x(!1),f(!0),w(!1),F({title:"Search Error",description:"Failed to start search",variant:"destructive"})}}};return(0,a.jsxs)("div",{className:"flex-1 space-y-8 p-8",children:[(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Dashboard"}),(0,a.jsx)("p",{className:"text-lg text-gray-600",children:"Search and organize your video content with AI-powered tagging"})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,a.jsx)(eN,{className:"border-0 shadow-sm bg-white",children:(0,a.jsx)(ek,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Videos"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:R.totalVideos.toLocaleString()}),(0,a.jsx)("p",{className:"text-sm text-blue-600 mt-1",children:R.searchServerStatus?"Server Online":"Server Offline"})]}),(0,a.jsx)("div",{className:"p-4 bg-blue-50 rounded-xl",children:(0,a.jsx)(d.A,{className:"w-7 h-7 text-blue-600"})})]})})}),(0,a.jsx)(eN,{className:"border-0 shadow-sm bg-white",children:(0,a.jsx)(ek,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Images"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:R.totalImages.toLocaleString()}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Ready to search"})]}),(0,a.jsx)("div",{className:"p-4 bg-green-50 rounded-xl",children:(0,a.jsx)(eo.A,{className:"w-7 h-7 text-green-600"})})]})})}),(0,a.jsx)(eN,{className:"border-0 shadow-sm bg-white",children:(0,a.jsx)(ek,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Text Documents"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:R.totalText.toLocaleString()}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Analyzed"})]}),(0,a.jsx)("div",{className:"p-4 bg-purple-50 rounded-xl",children:(0,a.jsx)(eo.A,{className:"w-7 h-7 text-purple-600"})})]})})}),(0,a.jsx)(eN,{className:"border-0 shadow-sm bg-white",children:(0,a.jsx)(ek,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Audio Files"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:R.totalAudio.toLocaleString()}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Processed"})]}),(0,a.jsx)("div",{className:"p-4 bg-orange-50 rounded-xl",children:(0,a.jsx)(eo.A,{className:"w-7 h-7 text-orange-600"})})]})})})]}),(0,a.jsx)(eN,{className:"border-0 shadow-sm bg-white",children:(0,a.jsx)(ek,{className:"p-6",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4",children:[(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(ec.A,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,a.jsx)(v,{placeholder:"Search videos by content, mood, or context...",value:e,onChange:e=>s(e.target.value),onKeyPress:e=>"Enter"===e.key&&X(),className:"pl-12 h-14 text-base border-gray-200 focus:border-blue-500 focus:ring-blue-500"})]})}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsxs)(eC,{value:t,onValueChange:l,children:[(0,a.jsx)(eE,{className:"w-36 h-14",children:(0,a.jsx)(eR,{placeholder:"Type"})}),(0,a.jsxs)(ez,{children:[(0,a.jsx)(eD,{value:"all",children:"All Types"}),(0,a.jsx)(eD,{value:"video",children:"Video"}),(0,a.jsx)(eD,{value:"image",children:"Image"}),(0,a.jsx)(eD,{value:"text",children:"Text"}),(0,a.jsx)(eD,{value:"audio",children:"Audio"})]})]}),(0,a.jsxs)(b,{variant:"outline",size:"lg",className:"h-14 px-4",onClick:()=>I(!k),children:[(0,a.jsx)(ed.A,{className:"w-4 h-4 mr-2"}),"Filters"]}),(0,a.jsx)(b,{size:"lg",className:"h-14 px-8 bg-blue-600 hover:bg-blue-700",onClick:X,children:"Search"})]})]}),k&&(0,a.jsxs)("div",{className:"border-t pt-4 space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("label",{className:"text-sm font-medium text-gray-700 flex items-center",children:[(0,a.jsx)(eu.A,{className:"w-4 h-4 mr-2"}),"Date Filter"]}),(0,a.jsx)(v,{placeholder:"e.g., 2023-12-25 or 2023-12",value:N,onChange:e=>S(e.target.value),className:"h-10"}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"Search for content from specific dates"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("label",{className:"text-sm font-medium text-gray-700 flex items-center",children:[(0,a.jsx)(eh.A,{className:"w-4 h-4 mr-2"}),"Location Filter"]}),(0,a.jsx)(v,{placeholder:"e.g., San Francisco, beach, etc.",value:A,onChange:e=>P(e.target.value),className:"h-10"}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"Search for content from specific locations"})]})]}),(N||A)&&(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(es,{variant:"secondary",className:"text-sm",children:"Filters will create organized buckets in results"}),(0,a.jsx)(b,{variant:"ghost",size:"sm",onClick:()=>{S(""),P("")},className:"text-xs",children:"Clear Filters"})]})]})]})})}),(0,a.jsxs)(eN,{className:"border-0 shadow-sm bg-white",children:[(0,a.jsx)(eS,{className:"pb-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(eA,{className:"text-xl text-gray-900",children:"Search Results"}),(0,a.jsx)(eP,{children:m?"Searching...":p?"Found ".concat(u.length," results"):"Enter a search query to find content"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(b,{variant:"grid"===i?"default":"outline",size:"sm",onClick:()=>n("grid"),className:"grid"===i?"bg-blue-600 hover:bg-blue-700":"",children:(0,a.jsx)(em.A,{className:"w-4 h-4"})}),(0,a.jsx)(b,{variant:"list"===i?"default":"outline",size:"sm",onClick:()=>n("list"),className:"list"===i?"bg-blue-600 hover:bg-blue-700":"",children:(0,a.jsx)(ex.A,{className:"w-4 h-4"})})]})]})}),(0,a.jsx)(ek,{className:"max-w-full overflow-hidden",children:m?(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[(0,a.jsx)("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Searching..."}),(0,a.jsx)("p",{className:"text-gray-500",children:"Finding content matching your query"})]}):p?0===u.length?(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[(0,a.jsx)(ec.A,{className:"w-12 h-12 text-gray-400 mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No results found"}),(0,a.jsx)("p",{className:"text-gray-500 max-w-md",children:"Try different keywords or check your spelling"})]}):(0,a.jsxs)("div",{className:"w-full",children:[(()=>{let e=[...u].sort((e,s)=>(s.similarity_score||0)-(e.similarity_score||0)),s=Object.entries(B(e));return 1===s.length&&"All Results"===s[0][0]?(0,a.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 2xl:grid-cols-7 gap-4",children:e.map((e,s)=>(0,a.jsx)(eO,{result:e,isSelected:M.has(e.file_path),onSelect:s=>G(e.file_path,s),onOpen:()=>W(e.file_path),onReveal:()=>K(e.file_path)},s))}):(0,a.jsx)("div",{className:"space-y-8",children:s.map(e=>{let[s,t]=e,r=J(s),l=_.has(s),i=t.length>8,n=l||!i?t:t.slice(0,8);return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full flex-shrink-0",style:{backgroundColor:r}}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:s}),(0,a.jsxs)(es,{variant:"secondary",className:"text-sm",children:[t.length," ",1===t.length?"item":"items"]}),i&&(0,a.jsx)(b,{variant:"ghost",size:"sm",onClick:()=>{C(e=>{let t=new Set(e);return t.has(s)?t.delete(s):t.add(s),t})},className:"ml-auto text-blue-600 hover:text-blue-700",children:l?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(ei.A,{className:"w-4 h-4 mr-1"}),"Show Less"]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(en.A,{className:"w-4 h-4 mr-1"}),"Show ",t.length-8," More"]})})]}),(0,a.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 2xl:grid-cols-7 gap-4",children:n.map((e,t)=>(0,a.jsx)(eO,{result:e,isSelected:M.has(e.file_path),onSelect:s=>G(e.file_path,s),onOpen:()=>W(e.file_path),onReveal:()=>K(e.file_path)},"".concat(s,"-").concat(t)))})]},s)})})})(),M.size>0&&(0,a.jsxs)("div",{className:"fixed bottom-6 left-1/2 transform -translate-x-1/2 bg-blue-600 text-white px-4 py-2 rounded-lg shadow-lg flex items-center gap-3 z-50",children:[(0,a.jsxs)("span",{children:[M.size," item",1!==M.size?"s":""," selected"]}),(0,a.jsx)("button",{onClick:()=>U(new Set),className:"text-blue-200 hover:text-white",children:"Clear"})]})]}):(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[(0,a.jsx)(ec.A,{className:"w-12 h-12 text-gray-400 mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Start searching"}),(0,a.jsx)("p",{className:"text-gray-500 max-w-md",children:"Enter a query above to search through your content"})]})})]})]})}eD.displayName=eI.q7.displayName,r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(eI.wv,{ref:s,className:f("-mx-1 my-1 h-px bg-muted",t),...r})}).displayName=eI.wv.displayName;var eM=t(4186),eU=t(646),eV=t(5339),eq=t(2431),eB=t(5863);let eJ=r.forwardRef((e,s)=>{let{className:t,value:r,...l}=e;return(0,a.jsx)(eB.bL,{ref:s,className:f("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...l,children:(0,a.jsx)(eB.C1,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(r||0),"%)")}})})});eJ.displayName=eB.bL.displayName;var eG=t(7655);let eW=r.forwardRef((e,s)=>{let{className:t,children:r,...l}=e;return(0,a.jsxs)(eG.bL,{ref:s,className:f("relative overflow-hidden",t),...l,children:[(0,a.jsx)(eG.LM,{className:"h-full w-full rounded-[inherit]",children:r}),(0,a.jsx)(eK,{}),(0,a.jsx)(eG.OK,{})]})});eW.displayName=eG.bL.displayName;let eK=r.forwardRef((e,s)=>{let{className:t,orientation:r="vertical",...l}=e;return(0,a.jsx)(eG.VM,{ref:s,orientation:r,className:f("flex touch-none select-none transition-colors","vertical"===r&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===r&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...l,children:(0,a.jsx)(eG.lr,{className:"relative flex-1 rounded-full bg-border"})})});function eX(){let[e,s]=(0,r.useState)(!1),[t,l]=(0,r.useState)(0),[n,o]=(0,r.useState)([]),[c,d]=(0,r.useState)("idle"),u=(0,r.useRef)(null),{toast:h}=ew(),m=(0,r.useRef)(0);(0,r.useEffect)(()=>{try{let e=localStorage.getItem("contentcache-processing-logs"),t=localStorage.getItem("contentcache-processing-progress"),a=localStorage.getItem("contentcache-processing-status");if(e){let s=JSON.parse(e);o(s),m.current=s.length}t&&l(Number(t)),a&&"idle"!==a&&(d(a),"processing"===a&&s(!0))}catch(e){console.error("Error loading saved logs:",e)}},[]),(0,r.useEffect)(()=>{if(n.length>0)try{localStorage.setItem("contentcache-processing-logs",JSON.stringify(n))}catch(e){console.error("Error saving logs:",e)}},[n]),(0,r.useEffect)(()=>{localStorage.setItem("contentcache-processing-progress",t.toString())},[t]),(0,r.useEffect)(()=>{localStorage.setItem("contentcache-processing-status",c)},[c]),(0,r.useEffect)(()=>{var e;null===(e=u.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},[n]);let x=(e,s,t,a)=>{let r={id:"".concat(Date.now(),"-").concat(++m.current),timestamp:new Date().toLocaleTimeString(),type:e,message:s,progress:t,stage:a};o(e=>[...e,r])};(0,r.useEffect)(()=>{if(window.electronAPI){let e=window.electronAPI.onFilesSelected(e=>{console.log("DEBUG: Files selected event:",e),p(e)}),t=window.electronAPI.onFolderSelected(e=>{console.log("DEBUG: Folder selected event:",e),f(e)}),a=window.electronAPI.onPythonOutput(e=>{try{let a=JSON.parse(e);switch(a.type){case"progress":l(a.progress),x("progress","".concat(a.stage,": ").concat(a.message),a.progress,a.stage);break;case"batch_progress":l(a.progress),x("progress","Processing ".concat(a.completed,"/").concat(a.total," files (").concat(a.progress.toFixed(1),"%)"),a.progress);break;case"processing_complete":s(!1),d(a.successful>0?"success":"error"),l(100),x("success","Processing complete! Successfully processed ".concat(a.successful,"/").concat(a.total_processed," files")),localStorage.removeItem("contentcache-processing-progress"),localStorage.removeItem("contentcache-processing-status"),h({title:"Processing Complete!",description:"Successfully processed ".concat(a.successful,"/").concat(a.total_processed," files")});break;case"system_status":var t;x("info","System status: ".concat((null===(t=a.search_server)||void 0===t?void 0:t.running)?"Search server online":"Search server offline"));break;case"stop_complete":s(!1),d("stopped"),x("info",a.message||"Processing stopped successfully");break;case"stop_error":s(!1),d("stopped"),x("error",a.error||"Error stopping processing");break;case"api_stop":s(!1),d("stopped"),x("error","\uD83D\uDEA8 Processing stopped due to repeated API failures"),x("error","\uD83D\uDCA1 Please check your Railway API deployment and try again");break;default:a.message&&x("info",a.message)}}catch(t){if(e.startsWith("OUTPUT:")){let t=e.replace("OUTPUT:","").trim();t.includes("\uD83D\uDEA8 API ERROR")||t.includes("API ERROR")?(x("error",t),s(!1),d("error"),h({title:"API Error",description:"Processing stopped due to Railway API issues. Check logs for details.",variant:"destructive"})):t.includes(" API request failed")||t.includes(" Waiting")||t.includes("attempts")?x("progress",t):t.includes("Railway API call failed")||t.includes("HTTP error 502")?x("error",t):x("info",t)}else{let t=e.trim();t.includes("\uD83D\uDEA8 API ERROR")||t.includes("API ERROR")?(x("error",t),s(!1),d("error"),h({title:"API Error",description:"Processing stopped due to Railway API issues. Check logs for details.",variant:"destructive"})):x("info",t)}}}),r=window.electronAPI.onPythonError(e=>{x("error","Error: ".concat(e.trim())),d("error")}),i=window.electronAPI.onSearchServerOutput(e=>{(e.includes("Ready to search")||e.includes("Loading")||e.includes("")||e.includes("\uD83D\uDE80"))&&x("info","Search Server: ".concat(e.trim()))}),n=window.electronAPI.onSearchServerError(e=>{e.includes("INFO:")||e.includes("WARNING:")||x("error","Search Server Error: ".concat(e.trim()))});return()=>{e(),t(),a(),r(),i(),n()}}},[h]);let p=async e=>{s(!0),d("processing"),l(0),x("info","Starting to process ".concat(e.length," file(s)")),localStorage.setItem("contentcache-processing-status","processing"),localStorage.setItem("contentcache-processing-progress","0");try{await window.electronAPI.processFiles(e)}catch(e){d("error"),x("error","Failed to process files: ".concat(e)),h({title:"Error",description:"Failed to process files",variant:"destructive"})}},f=async e=>{s(!0),d("processing"),l(0),x("info","Starting to process folder: ".concat(e)),localStorage.setItem("contentcache-processing-status","processing"),localStorage.setItem("contentcache-processing-progress","0");try{await window.electronAPI.processFiles([e])}catch(e){d("error"),x("error","Failed to process folder: ".concat(e)),h({title:"Error",description:"Failed to process folder",variant:"destructive"})}},g=async()=>{window.electronAPI&&await window.electronAPI.selectFiles()},v=async()=>{window.electronAPI&&await window.electronAPI.selectFolder()},j=e=>{switch(e){case"success":return(0,a.jsx)(eU.A,{className:"w-4 h-4 text-green-500"});case"error":return(0,a.jsx)(eV.A,{className:"w-4 h-4 text-red-500"});case"progress":return(0,a.jsx)(eM.A,{className:"w-4 h-4 text-blue-500"});default:return(0,a.jsx)("div",{className:"w-4 h-4 rounded-full bg-gray-400"})}},y=async()=>{if(window.electronAPI&&window.electronAPI.stopProcessing)try{await window.electronAPI.stopProcessing(),s(!1),d("stopped"),x("info","Processing stopped by user"),h({title:"Processing Stopped",description:"File processing has been stopped"})}catch(e){x("error","Failed to stop processing: ".concat(e)),h({title:"Error",description:"Failed to stop processing",variant:"destructive"})}},w=async()=>{if(window.electronAPI)try{let e=await window.electronAPI.getMetadataPaths();x("info","\uD83D\uDCC1 Metadata Paths:"),x("info","Video: ".concat(e.video)),x("info","Audio: ".concat(e.audio)),x("info","Text: ".concat(e.text)),x("info","Image: ".concat(e.image)),h({title:"Metadata Paths",description:"Check logs for full paths"})}catch(e){x("error","Failed to get metadata paths: ".concat(e))}},S=async()=>{if(window.electronAPI)try{x("info","\uD83E\uDDEA Testing API connectivity...");let e=await window.electronAPI.testApiConnectivity();"success"===e.status?(x("success"," API Test Passed: ".concat(e.message)),x("info","\uD83C\uDF10 API URL: ".concat(e.api_url)),h({title:"API Test Success",description:"Railway API server is accessible and working"})):(x("error"," API Test Failed: ".concat(e.message)),h({title:"API Test Failed",description:"Check logs for details",variant:"destructive"}))}catch(e){x("error","Failed to test API: ".concat(e)),h({title:"API Test Error",description:"Failed to run API test",variant:"destructive"})}};return(0,a.jsxs)("div",{className:"flex-1 space-y-6 p-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Upload & Process Content"}),(0,a.jsx)("p",{className:"text-lg text-gray-600",children:"Add new files and folders to your content library with AI-powered analysis"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)(eN,{className:"border-2 border-dashed border-blue-200 bg-blue-50/30 hover:bg-blue-50/50 transition-colors",children:(0,a.jsx)(ek,{className:"p-8",children:(0,a.jsxs)("div",{className:"text-center space-y-4",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-blue-600 rounded-2xl flex items-center justify-center mx-auto",children:(0,a.jsx)(i.A,{className:"w-8 h-8 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Upload Files"}),(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:"Select individual files or entire folders for processing"})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,a.jsxs)(b,{variant:"outline",size:"lg",className:"px-8 py-3 text-base font-medium border-blue-200 hover:bg-blue-50",onClick:g,disabled:e,children:[(0,a.jsx)(eo.A,{className:"w-5 h-5 mr-2"}),"Select Files"]}),(0,a.jsxs)(b,{variant:"outline",size:"lg",className:"px-8 py-3 text-base font-medium border-blue-200 hover:bg-blue-50",onClick:v,disabled:e,children:[(0,a.jsx)(el.A,{className:"w-5 h-5 mr-2"}),"Select Folder"]})]}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,a.jsx)(b,{variant:"outline",size:"sm",className:"px-3 py-2 text-xs border-gray-300 hover:bg-gray-50",onClick:w,title:"Debug: Show metadata file paths",children:"\uD83D\uDC1B Paths"}),(0,a.jsx)(b,{variant:"outline",size:"sm",className:"px-3 py-2 text-xs border-blue-300 hover:bg-blue-50",onClick:S,title:"Test Railway API connectivity",children:"\uD83E\uDDEA API"})]}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Supports: Videos (MP4, MOV, AVI, MKV), Audio (MP3, WAV, AAC, FLAC), Images (JPG, PNG, HEIC), Text (TXT, PDF, MD)"})]})})}),(e||"idle"!==c)&&(0,a.jsxs)(eN,{children:[(0,a.jsx)(eS,{className:"pb-3",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(()=>{switch(c){case"processing":return(0,a.jsx)(eM.A,{className:"w-5 h-5 text-blue-500 animate-spin"});case"success":return(0,a.jsx)(eU.A,{className:"w-5 h-5 text-green-500"});case"error":return(0,a.jsx)(eV.A,{className:"w-5 h-5 text-red-500"});default:return(0,a.jsx)(i.A,{className:"w-5 h-5 text-gray-500"})}})(),(0,a.jsx)(eA,{className:"text-lg",children:"Processing Status"})]}),(0,a.jsx)(es,{variant:"success"===c?"default":"error"===c?"destructive":"secondary",children:"processing"===c?"In Progress":"success"===c?"Complete":"error"===c?"Error":"Ready"})]})}),(0,a.jsx)(ek,{className:"space-y-4",children:e&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{children:"Progress"}),(0,a.jsxs)("span",{children:[t.toFixed(1),"%"]})]}),(0,a.jsx)(eJ,{value:t,className:"w-full"})]}),(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsxs)(b,{variant:"destructive",size:"sm",onClick:y,className:"flex items-center gap-2",children:[(0,a.jsx)(eq.A,{className:"w-4 h-4"}),"Stop Processing"]})})]})})]})]}),(0,a.jsxs)(eN,{className:"lg:row-span-2",children:[(0,a.jsx)(eS,{className:"pb-3",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(eA,{className:"text-lg",children:"Processing Logs"}),(0,a.jsx)(eP,{children:"Real-time output from the processing pipeline"})]}),(0,a.jsxs)(b,{variant:"outline",size:"sm",onClick:()=>{o([]),d("idle"),l(0),m.current=0,localStorage.removeItem("contentcache-processing-logs"),localStorage.removeItem("contentcache-processing-progress"),localStorage.removeItem("contentcache-processing-status")},disabled:e,children:[(0,a.jsx)(N.A,{className:"w-4 h-4 mr-1"}),"Clear"]})]})}),(0,a.jsx)(ek,{children:(0,a.jsx)(eW,{className:"h-96 border rounded-md p-4 bg-gray-50",children:0===n.length?(0,a.jsxs)("div",{className:"text-center text-gray-500 py-8",children:[(0,a.jsx)(i.A,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),(0,a.jsx)("p",{children:"Processing logs will appear here"})]}):(0,a.jsxs)("div",{className:"space-y-2",children:[n.map(e=>(0,a.jsxs)("div",{className:"flex items-start gap-2 text-sm",children:[(0,a.jsx)("div",{className:"mt-0.5",children:j(e.type)}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-gray-500 text-xs",children:e.timestamp}),e.stage&&(0,a.jsx)(es,{variant:"outline",className:"text-xs",children:e.stage}),void 0!==e.progress&&(0,a.jsxs)(es,{variant:"secondary",className:"text-xs",children:[e.progress.toFixed(1),"%"]})]}),(0,a.jsx)("p",{className:"mt-1 ".concat("error"===e.type?"text-red-700":"success"===e.type?"text-green-700":"text-gray-700"),children:e.message})]})]},e.id)),(0,a.jsx)("div",{ref:u})]})})})]})]})]})}eK.displayName=eG.VM.displayName;var eH=t(3311),eQ=t(5657),eY=t(1007),eZ=t(2486);function e$(){let[e,s]=(0,r.useState)([{id:1,type:"ai",content:"Hello! I'm your AI assistant for video content analysis. I can help you search through your videos, analyze content, generate summaries, and answer questions about your video library. What would you like to know?",timestamp:new Date}]),[t,l]=(0,r.useState)(""),[i,n]=(0,r.useState)(!1);(0,r.useEffect)(()=>{if(window.electronAPI)return window.electronAPI.onPythonOutput((e,t)=>{try{let e=JSON.parse(t);if("ai_response"===e.type){let t={id:Date.now(),type:"ai",content:e.message,timestamp:new Date};s(e=>[...e,t]),n(!1)}else if("search_results"===e.type){let t="I found ".concat(e.results.length," results:\n\n");e.results.slice(0,5).forEach((e,s)=>{t+="".concat(s+1,". ").concat(e.filename||e.title||"Unknown file","\n")});let a={id:Date.now(),type:"ai",content:t,timestamp:new Date};s(e=>[...e,a]),n(!1)}}catch(e){console.log("Non-JSON Python output:",t)}}),()=>{window.electronAPI.removeAllListeners("python-output")}},[]);let o=async()=>{if(!t.trim())return;let e={id:Date.now(),type:"user",content:t,timestamp:new Date};s(s=>[...s,e]),l(""),n(!0),window.electronAPI&&await window.electronAPI.aiChat(t)};return(0,a.jsxs)("div",{className:"flex-1 flex flex-col h-full p-8",children:[(0,a.jsx)("div",{className:"mb-6",children:(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-600 to-blue-600 rounded-xl flex items-center justify-center",children:(0,a.jsx)(eH.A,{className:"w-6 h-6 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"AI Chat"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Intelligent video content analysis and search"})]}),(0,a.jsx)(es,{className:"ml-auto bg-green-100 text-green-700",children:"Local AI"})]})}),(0,a.jsxs)(eN,{className:"flex-1 flex flex-col border-0 shadow-sm bg-white",children:[(0,a.jsx)(ek,{className:"flex-1 p-6 overflow-y-auto",children:(0,a.jsxs)("div",{className:"space-y-6",children:[e.map(e=>(0,a.jsxs)("div",{className:"flex gap-4 ".concat("user"===e.type?"justify-end":"justify-start"),children:["ai"===e.type&&(0,a.jsx)(Y,{className:"w-8 h-8 bg-gradient-to-br from-purple-600 to-blue-600",children:(0,a.jsx)($,{className:"bg-transparent",children:(0,a.jsx)(eQ.A,{className:"w-4 h-4 text-white"})})}),(0,a.jsxs)("div",{className:"max-w-[70%] p-4 rounded-2xl ".concat("user"===e.type?"bg-blue-600 text-white":"bg-gray-100 text-gray-900"),children:[(0,a.jsx)("p",{className:"text-sm leading-relaxed",children:e.content}),(0,a.jsx)("p",{className:"text-xs mt-2 ".concat("user"===e.type?"text-blue-100":"text-gray-500"),children:e.timestamp.toLocaleTimeString()})]}),"user"===e.type&&(0,a.jsx)(Y,{className:"w-8 h-8 bg-blue-600",children:(0,a.jsx)($,{className:"bg-transparent",children:(0,a.jsx)(eY.A,{className:"w-4 h-4 text-white"})})})]},e.id)),i&&(0,a.jsxs)("div",{className:"flex gap-4 justify-start",children:[(0,a.jsx)(Y,{className:"w-8 h-8 bg-gradient-to-br from-purple-600 to-blue-600",children:(0,a.jsx)($,{className:"bg-transparent",children:(0,a.jsx)(eQ.A,{className:"w-4 h-4 text-white"})})}),(0,a.jsx)("div",{className:"bg-gray-100 text-gray-900 p-4 rounded-2xl",children:(0,a.jsx)("p",{className:"text-sm",children:"Thinking..."})})]})]})}),(0,a.jsxs)("div",{className:"px-6 py-4 border-t border-gray-100",children:[(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:"Quick prompts:"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:["Summarize my recent videos","Find videos about product demos","What topics are covered in my library?","Show me the longest videos"].map((e,s)=>(0,a.jsx)(b,{variant:"outline",size:"sm",className:"text-xs",onClick:()=>l(e),children:e},s))})]}),(0,a.jsx)("div",{className:"p-6 border-t border-gray-100",children:(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)(v,{placeholder:"Ask me anything about your video content...",value:t,onChange:e=>l(e.target.value),onKeyPress:e=>"Enter"===e.key&&o(),className:"flex-1 h-12 text-base border-gray-200 focus:border-blue-500 focus:ring-blue-500",disabled:i}),(0,a.jsx)(b,{onClick:o,disabled:!t.trim()||i,className:"h-12 px-6 bg-blue-600 hover:bg-blue-700",children:(0,a.jsx)(eZ.A,{className:"w-4 h-4"})})]})})]})]})}var e0=t(3032),e1=t(3109);function e2(){let e=[{label:"Videos Processed",value:"1,247",change:"+12%",icon:e0.A},{label:"Total Processing Time",value:"156 hrs",change:"+8%",icon:eM.A},{label:"Average File Size",value:"485 MB",change:"-3%",icon:o.A},{label:"Search Accuracy",value:"94.2%",change:"+2%",icon:e1.A}];return(0,a.jsxs)("div",{className:"flex-1 space-y-8 p-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Analytics"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Performance insights and usage statistics"})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:e.map((e,s)=>(0,a.jsx)(eN,{className:"border-0 shadow-sm bg-white",children:(0,a.jsx)(ek,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:e.label}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:e.value}),(0,a.jsxs)("p",{className:"text-sm mt-1 ".concat(e.change.startsWith("+")?"text-green-600":"text-red-600"),children:[e.change," from last month"]})]}),(0,a.jsx)("div",{className:"p-3 bg-blue-50 rounded-lg",children:(0,a.jsx)(e.icon,{className:"w-6 h-6 text-blue-600"})})]})})},s))}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)(eN,{className:"border-0 shadow-sm bg-white",children:[(0,a.jsxs)(eS,{children:[(0,a.jsx)(eA,{children:"Processing Timeline"}),(0,a.jsx)(eP,{children:"Video processing over time"})]}),(0,a.jsx)(ek,{children:(0,a.jsx)("div",{className:"h-64 flex items-center justify-center text-gray-400",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(o.A,{className:"w-12 h-12 mx-auto mb-4"}),(0,a.jsx)("p",{children:"Chart visualization will be integrated with Python analytics"})]})})})]}),(0,a.jsxs)(eN,{className:"border-0 shadow-sm bg-white",children:[(0,a.jsxs)(eS,{children:[(0,a.jsx)(eA,{children:"Content Categories"}),(0,a.jsx)(eP,{children:"Distribution of video content types"})]}),(0,a.jsx)(ek,{children:(0,a.jsx)("div",{className:"h-64 flex items-center justify-center text-gray-400",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(e1.A,{className:"w-12 h-12 mx-auto mb-4"}),(0,a.jsx)("p",{children:"Category breakdown charts coming soon"})]})})})]})]})]})}var e4=t(1380),e5=t(3314),e6=t(4213),e3=t(3861),e8=t(968);let e7=(0,h.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),e9=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(e8.b,{ref:s,className:f(e7(),t),...r})});e9.displayName=e8.b.displayName;var se=t(4884);let ss=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(se.bL,{className:f("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...r,ref:s,children:(0,a.jsx)(se.zi,{className:f("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});function st(){return(0,a.jsxs)("div",{className:"flex-1 space-y-8 p-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Settings"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Configure your application preferences"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,a.jsxs)(eN,{className:"border-0 shadow-sm bg-white",children:[(0,a.jsxs)(eS,{children:[(0,a.jsxs)(eA,{className:"flex items-center gap-2",children:[(0,a.jsx)(e4.A,{className:"w-5 h-5"}),"Storage & Paths"]}),(0,a.jsx)(eP,{children:"Configure where your files are stored and processed"})]}),(0,a.jsxs)(ek,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(e9,{htmlFor:"video-path",children:"Default Video Directory"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(v,{id:"video-path",placeholder:"/Users/username/Videos",className:"flex-1"}),(0,a.jsx)(b,{variant:"outline",children:"Browse"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(e9,{htmlFor:"cache-path",children:"Cache Directory"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(v,{id:"cache-path",placeholder:"/Users/username/.videosearch/cache",className:"flex-1"}),(0,a.jsx)(b,{variant:"outline",children:"Browse"})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"space-y-0.5",children:[(0,a.jsx)(e9,{children:"Auto-organize files"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Automatically organize imported files by date"})]}),(0,a.jsx)(ss,{})]})]})]}),(0,a.jsxs)(eN,{className:"border-0 shadow-sm bg-white",children:[(0,a.jsxs)(eS,{children:[(0,a.jsxs)(eA,{className:"flex items-center gap-2",children:[(0,a.jsx)(e5.A,{className:"w-5 h-5"}),"Processing"]}),(0,a.jsx)(eP,{children:"AI processing and performance settings"})]}),(0,a.jsxs)(ek,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(e9,{htmlFor:"cpu-threads",children:"CPU Threads"}),(0,a.jsxs)(eC,{defaultValue:"auto",children:[(0,a.jsx)(eE,{children:(0,a.jsx)(eR,{})}),(0,a.jsxs)(ez,{children:[(0,a.jsx)(eD,{value:"auto",children:"Auto (Recommended)"}),(0,a.jsx)(eD,{value:"1",children:"1 Thread"}),(0,a.jsx)(eD,{value:"2",children:"2 Threads"}),(0,a.jsx)(eD,{value:"4",children:"4 Threads"}),(0,a.jsx)(eD,{value:"8",children:"8 Threads"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(e9,{htmlFor:"quality",children:"Processing Quality"}),(0,a.jsxs)(eC,{defaultValue:"high",children:[(0,a.jsx)(eE,{children:(0,a.jsx)(eR,{})}),(0,a.jsxs)(ez,{children:[(0,a.jsx)(eD,{value:"fast",children:"Fast (Lower accuracy)"}),(0,a.jsx)(eD,{value:"balanced",children:"Balanced"}),(0,a.jsx)(eD,{value:"high",children:"High Quality (Slower)"})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"space-y-0.5",children:[(0,a.jsx)(e9,{children:"GPU Acceleration"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Use GPU for faster processing (if available)"})]}),(0,a.jsx)(ss,{})]})]})]}),(0,a.jsxs)(eN,{className:"border-0 shadow-sm bg-white",children:[(0,a.jsxs)(eS,{children:[(0,a.jsxs)(eA,{className:"flex items-center gap-2",children:[(0,a.jsx)(e6.A,{className:"w-5 h-5"}),"Database"]}),(0,a.jsx)(eP,{children:"Manage your video database and indexing"})]}),(0,a.jsxs)(ek,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"space-y-0.5",children:[(0,a.jsx)(e9,{children:"Auto-backup database"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Automatically backup your video index daily"})]}),(0,a.jsx)(ss,{defaultChecked:!0})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"space-y-0.5",children:[(0,a.jsx)(e9,{children:"Index new files automatically"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Process new files as they're added"})]}),(0,a.jsx)(ss,{defaultChecked:!0})]}),(0,a.jsxs)("div",{className:"pt-4 space-y-2",children:[(0,a.jsx)(b,{variant:"outline",className:"w-full",children:"Rebuild Search Index"}),(0,a.jsx)(b,{variant:"outline",className:"w-full",children:"Export Database"})]})]})]}),(0,a.jsxs)(eN,{className:"border-0 shadow-sm bg-white",children:[(0,a.jsxs)(eS,{children:[(0,a.jsxs)(eA,{className:"flex items-center gap-2",children:[(0,a.jsx)(e3.A,{className:"w-5 h-5"}),"Notifications"]}),(0,a.jsx)(eP,{children:"Configure when to receive notifications"})]}),(0,a.jsxs)(ek,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"space-y-0.5",children:[(0,a.jsx)(e9,{children:"Processing complete"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Notify when video processing finishes"})]}),(0,a.jsx)(ss,{defaultChecked:!0})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"space-y-0.5",children:[(0,a.jsx)(e9,{children:"Errors and warnings"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Show notifications for processing errors"})]}),(0,a.jsx)(ss,{defaultChecked:!0})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"space-y-0.5",children:[(0,a.jsx)(e9,{children:"Storage warnings"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Alert when storage space is low"})]}),(0,a.jsx)(ss,{defaultChecked:!0})]})]})]})]})]})}function sa(){let[e,s]=(0,r.useState)("dashboard"),[t,l]=(0,r.useState)(!1);return((0,r.useEffect)(()=>{console.log("Page useEffect running, setting isClient to true"),l(!0)},[]),(0,r.useEffect)(()=>{let e=setTimeout(()=>{console.log("Timeout fallback: forcing isClient to true"),l(!0)},1e3);return()=>clearTimeout(e)},[]),console.log("Page rendering, isClient:",t),t)?(0,a.jsxs)(O,{children:[(0,a.jsx)(ea,{activeTab:e,onTabChange:s}),(0,a.jsxs)(U,{className:"bg-gray-50",children:["dashboard"===e&&(0,a.jsx)(eL,{}),"upload"===e&&(0,a.jsx)(eX,{}),"ai-chat"===e&&(0,a.jsx)(e$,{}),"analytics"===e&&(0,a.jsx)(e2,{}),"settings"===e&&(0,a.jsx)(st,{})]})]}):(0,a.jsxs)(O,{children:[(0,a.jsx)(ea,{activeTab:e,onTabChange:s}),(0,a.jsx)(U,{className:"bg-gray-50",children:(0,a.jsx)("div",{className:"flex items-center justify-center h-screen",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Loading silk.ai..."}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"Initializing application"})]})})})]})}ss.displayName=se.bL.displayName},6689:(e,s,t)=>{Promise.resolve().then(t.bind(t,4753))}},e=>{var s=s=>e(e.s=s);e.O(0,[386,441,684,358],()=>s(6689)),_N_E=e.O()}]);